Write a CRUD (Create/Save, Read, Edit/Update, Delete) application using 
servlet. Create a Database named IGNOU, create a table named Student 
which must capture the student information (basics, contact, enrollment 
details along with courses). Make necessary assumptions required. 


Step 1: Database Setup

---->sql

CREATE DATABASE IF NOT EXISTS IGNOU;
USE IGNOU;
CREATE TABLE IF NOT EXISTS Student (
    student_id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(100),
    phone VARCHAR(20),
    address VARCHAR(255),
    enrollment_date DATE,
    course VARCHAR(100)
);



Step 2: Servlets for CRUD Operations

--->CreateStudentServlet.java

import java.io.IOException;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.SQLException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

@WebServlet("/CreateStudentServlet")
public class CreateStudentServlet extends HttpServlet {
    private static final long serialVersionUID = 1L;
    private static final String jdbcURL = "jdbc:mysql://localhost:3306/IGNOU";
    private static final String jdbcUsername = "your_username";
    private static final String jdbcPassword = "your_password";

    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws IOException {
        String name = request.getParameter("name");
        String email = request.getParameter("email");
        String phone = request.getParameter("phone");
        String address = request.getParameter("address");
        String enrollmentDate = request.getParameter("enrollment_date");
        String course = request.getParameter("course");

        try {
            Connection conn = DriverManager.getConnection(jdbcURL, jdbcUsername, jdbcPassword);
            String sql = "INSERT INTO Student (name, email, phone, address, enrollment_date, course) VALUES (?, ?, ?, ?, ?, ?)";
            PreparedStatement statement = conn.prepareStatement(sql);
            statement.setString(1, name);
            statement.setString(2, email);
            statement.setString(3, phone);
            statement.setString(4, address);
            statement.setString(5, enrollmentDate);
            statement.setString(6, course);

            int rowsInserted = statement.executeUpdate();
            if (rowsInserted > 0) {
                response.sendRedirect("student-list.jsp"); // Redirect to a list page or success page
            } else {
                response.getWriter().println("Failed to insert student record.");
            }

            conn.close();
        } catch (SQLException ex) {
            ex.printStackTrace();
            response.getWriter().println("Database connection error: " + ex.getMessage());
        }
    }
}


--->ViewStudentServlet

import java.io.IOException;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

@WebServlet("/ViewStudentServlet")
public class ViewStudentServlet extends HttpServlet {
    private static final long serialVersionUID = 1L;
    private static final String jdbcURL = "jdbc:mysql://localhost:3306/IGNOU";
    private static final String jdbcUsername = "your_username";
    private static final String jdbcPassword = "your_password";

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {
        List<Student> studentList = new ArrayList<>();

        try {
            Connection conn = DriverManager.getConnection(jdbcURL, jdbcUsername, jdbcPassword);
            String sql = "SELECT * FROM Student";
            PreparedStatement statement = conn.prepareStatement(sql);
            ResultSet resultSet = statement.executeQuery();

            while (resultSet.next()) {
                int studentId = resultSet.getInt("student_id");
                String name = resultSet.getString("name");
                String email = resultSet.getString("email");
                String phone = resultSet.getString("phone");
                String address = resultSet.getString("address");
                String enrollmentDate = resultSet.getString("enrollment_date");
                String course = resultSet.getString("course");

                Student student = new Student(studentId, name, email, phone, address, enrollmentDate, course);
                studentList.add(student);
            }

            conn.close();
        } catch (SQLException ex) {
            ex.printStackTrace();
            response.getWriter().println("Database connection error: " + ex.getMessage());
        }

        // Store student list in request attribute and forward to a JSP for display
        request.setAttribute("studentList", studentList);
        request.getRequestDispatcher("student-list.jsp").forward(request, response);
    }
}


---------->Edit/Update Operation:

import java.io.IOException;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.SQLException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

@WebServlet("/EditStudentServlet")
public class EditStudentServlet extends HttpServlet {
    private static final long serialVersionUID = 1L;
    private static final String jdbcURL = "jdbc:mysql://localhost:3306/IGNOU";
    private static final String jdbcUsername = "your_username";
    private static final String jdbcPassword = "your_password";

    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws IOException {
        int studentId = Integer.parseInt(request.getParameter("student_id"));
        String name = request.getParameter("name");
        String email = request.getParameter("email");
        String phone = request.getParameter("phone");
        String address = request.getParameter("address");
        String enrollmentDate = request.getParameter("enrollment_date");
        String course = request.getParameter("course");

        try {
            Connection conn = DriverManager.getConnection(jdbcURL, jdbcUsername, jdbcPassword);
            String sql = "UPDATE Student SET name=?, email=?, phone=?, address=?, enrollment_date=?, course=? WHERE student_id=?";
            PreparedStatement statement = conn.prepareStatement(sql);
            statement.setString(1, name);
            statement.setString(2, email);
            statement.setString(3, phone);
            statement.setString(4, address);
            statement.setString(5, enrollmentDate);
            statement.setString(6, course);
            statement.setInt(7, studentId);

            int rowsUpdated = statement.executeUpdate();
            if (rowsUpdated > 0) {
                response.sendRedirect("student-list.jsp"); // Redirect to a list page or success page
            } else {
                response.getWriter().println("Failed to update student record.");
            }

            conn.close();
        } catch (SQLException ex) {
            ex.printStackTrace();
            response.getWriter().println("Database connection error: " + ex.getMessage());
        }
    }
}


------>DeleteStudentServlet


import java.io.IOException;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.SQLException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

@WebServlet("/DeleteStudentServlet")
public class DeleteStudentServlet extends HttpServlet {
    private static final long serialVersionUID = 1L;
    private static final String jdbcURL = "jdbc:mysql://localhost:3306/IGNOU";
    private static final String jdbcUsername = "your_username";
    private static final String jdbcPassword = "your_password";

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {
        int studentId = Integer.parseInt(request.getParameter("student_id"));

        try {
            Connection conn = DriverManager.getConnection(jdbcURL, jdbcUsername, jdbcPassword);
            String sql = "DELETE FROM Student WHERE student_id=?";
            PreparedStatement statement = conn.prepareStatement(sql);
            statement.setInt(1, studentId);

            int rowsDeleted = statement.executeUpdate();
            if (rowsDeleted > 0) {
                response.sendRedirect("student-list.jsp"); // Redirect to a list page or success page
            } else {
                response.getWriter().println("Failed to delete student record.");
            }

            conn.close();
        } catch (SQLException ex) {
            ex.printStackTrace();
            response.getWriter().println("Database connection error: " + ex.getMessage());
        }
    }
}



Create JSP pages (student-form.jsp for form input and student-list.jsp for displaying student data). 


-------->student-form.jsp

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Student Information Form</title>
</head>
<body>
    <h2>Student Information Form</h2>
    <form action="CreateStudentServlet" method="post">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required><br><br>
        
        <label for="email">Email:</label>
        <input type="email" id="email" name="email"><br><br>
        
        <label for="phone">Phone:</label>
        <input type="text" id="phone" name="phone"><br><br>
        
        <label for="address">Address:</label>
        <textarea id="address" name="address"></textarea><br><br>
        
        <label for="enrollment_date">Enrollment Date:</label>
        <input type="date" id="enrollment_date" name="enrollment_date" required><br><br>
        
        <label for="course">Course:</label>
        <input type="text" id="course" name="course" required><br><br>
        
        <input type="submit" value="Save">
    </form>
</body>
</html>


---------->student-list.jsp


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Student List</title>
</head>
<body>
    <h2>Student List</h2>
    <table border="1">
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Address</th>
                <th>Enrollment Date</th>
                <th>Course</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <%
                List<Student> studentList = (List<Student>) request.getAttribute("studentList");
                for (Student student : studentList) {
            %>
            <tr>
                <td><%= student.getStudentId() %></td>
                <td><%= student.getName() %></td>
                <td><%= student.getEmail() %></td>
                <td><%= student.getPhone() %></td>
                <td><%= student.getAddress() %></td>
                <td><%= student.getEnrollmentDate() %></td>
                <td><%= student.getCourse() %></td>
                <td>
                    <a href="EditStudentForm.jsp?student_id=<%= student.getStudentId() %>">Edit</a>
                    <a href="DeleteStudentServlet?student_id=<%= student.getStudentId() %>" onclick="return confirm('Are you sure you want to delete this student?')">Delete</a>
                </td>
            </tr>
            <% } %>
        </tbody>
    </table>
    <br>
    <a href="student-form.jsp">Add New Student</a>
</body>
</html>







